<!DOCTYPE html>
<html lang="en-US">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Using Shadowsocks Plugin/Pluggable Transport Layer - Trojan-Go Docs</title>
<meta name="description" content="An unidentifiable mechanism that helps you bypass GFW.">
<meta name="generator" content="Hugo 0.108.0">
<link href="https://azadzadeh.github.io/trojan-goindex.xml" rel="alternate" type="application/rss+xml">
<link rel="canonical" href="https://azadzadeh.github.io/trojan-go/en/advance/plugin/">
<link rel="stylesheet" href="https://azadzadeh.github.io/trojan-go/css/theme.min.css">
<script src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
<link rel="stylesheet" href="https://azadzadeh.github.io/trojan-go/css/chroma.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js"></script>
<script src="https://azadzadeh.github.io/trojan-go/js/bundle.js"></script><style>
:root {}
</style>
<meta property="og:title" content="Using Shadowsocks Plugin/Pluggable Transport Layer" />
<meta property="og:description" content="Compatibility Note that Trojan does not support this feature
Trojan-Go supports a pluggable transport layer. In principle, Trojan-Go can use any software that has TCP tunneling capabilities as a transport layer, such as v2ray, shadowsocks, kcp, etc. Also, Trojan-Go is compatible with Shadowsocks&rsquo; SIP003 plugin standard, such as GoQuiet, v2ray-plugin, etc. You can also use Tor&rsquo;s transport layer plugins, such as obfs4, meek, etc.
You can use these plugins to replace the TLS transport layer of Trojan-Go." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://azadzadeh.github.io/trojan-go/en/advance/plugin/" /><meta property="og:image" content="https://azadzadeh.github.io/trojan-go/images/og-image.png"/><meta property="article:section" content="advance" />

<meta property="og:site_name" content="Trojan-Go Docs" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://azadzadeh.github.io/trojan-go/images/og-image.png"/>

<meta name="twitter:title" content="Using Shadowsocks Plugin/Pluggable Transport Layer"/>
<meta name="twitter:description" content="Compatibility Note that Trojan does not support this feature
Trojan-Go supports a pluggable transport layer. In principle, Trojan-Go can use any software that has TCP tunneling capabilities as a transport layer, such as v2ray, shadowsocks, kcp, etc. Also, Trojan-Go is compatible with Shadowsocks&rsquo; SIP003 plugin standard, such as GoQuiet, v2ray-plugin, etc. You can also use Tor&rsquo;s transport layer plugins, such as obfs4, meek, etc.
You can use these plugins to replace the TLS transport layer of Trojan-Go."/>
<meta itemprop="name" content="Using Shadowsocks Plugin/Pluggable Transport Layer">
<meta itemprop="description" content="Compatibility Note that Trojan does not support this feature
Trojan-Go supports a pluggable transport layer. In principle, Trojan-Go can use any software that has TCP tunneling capabilities as a transport layer, such as v2ray, shadowsocks, kcp, etc. Also, Trojan-Go is compatible with Shadowsocks&rsquo; SIP003 plugin standard, such as GoQuiet, v2ray-plugin, etc. You can also use Tor&rsquo;s transport layer plugins, such as obfs4, meek, etc.
You can use these plugins to replace the TLS transport layer of Trojan-Go.">

<meta itemprop="wordCount" content="387"><meta itemprop="image" content="https://azadzadeh.github.io/trojan-go/images/og-image.png"/>
<meta itemprop="keywords" content="" /></head>
<body><div class="container"><header>
<h1>Trojan-Go Docs</h1>
<a href="https://github.com/p4gefau1t/trojan-go" class="github"><i class="fab fa-github"></i></a>
<p class="description">An unidentifiable mechanism that helps you bypass GFW.</p>

</header>
<div class="global-menu">
<nav>
<ul>
<li><a href="/trojan-go/en/">English (DeepL)</a></li>
<li><a href="/trojan-go/zh/">Chinese (original)</a></li>
<li><a href="https://github.com/p4gefau1t">GitHub</a></li></ul>
</nav>
</div>
<div class="content-container">
<main><h1>Using Shadowsocks Plugin/Pluggable Transport Layer</h1>
<div class="panel panel-caution"><div class="panel-header">
<h3>Compatibility</h3>
</div><div class="panel-body">
<p>Note that Trojan does not support this feature</p>
</div>
</div>
<p>Trojan-Go supports a pluggable transport layer. In principle, Trojan-Go can use any software that has TCP tunneling capabilities as a transport layer, such as v2ray, shadowsocks, kcp, etc. Also, Trojan-Go is compatible with Shadowsocks&rsquo; SIP003 plugin standard, such as GoQuiet, v2ray-plugin, etc. You can also use Tor&rsquo;s transport layer plugins, such as obfs4, meek, etc.</p>
<p>You can use these plugins to replace the TLS transport layer of Trojan-Go.</p>
<p>With pluggable transport layer plugins turned on, the Trojan-Go client will transmit <strong>traffic plaintext</strong> directly to the client local plugins for processing. The client-side plug-in is responsible for encryption and obfuscation, and transmits the traffic to the server-side plug-in. The server-side plugin receives the traffic, decrypts and parses it, and transmits <strong>traffic plaintext</strong> to the server-side local Trojan-Go server.</p>
<p>You can use any plugin to encrypt and obfuscate the traffic, just add the &ldquo;transport_plugin&rdquo; option, specify the path to the plugin&rsquo;s executable, and configure it properly.</p>
<p>We recommend that you design your own protocols and develop your own plugins**. Because all existing plugins can not interface with Trojan-Go&rsquo;s features to combat active detection, and some plugins do not have encryption capabilities. If you are interested in developing plugins, feel free to check out the guidelines for plugin design in the &ldquo;Implementation details and development guidelines&rdquo; section.</p>
<p>For example, you can use the SIP003-compliant v2ray-plugin, an example of which is shown below:</p>
<div class="panel panel-warning"><div class="panel-header">
<h3>Caution</h3>
</div><div class="panel-body">
<p>This configuration uses websocket to transmit unencrypted trojan protocol in clear text, which is a security risk. This configuration is for demonstration purposes only.</p>
</div>
</div>
<div class="panel panel-danger"><div class="panel-header">
<h3>Warning</h3>
</div><div class="panel-body">
<p>Do not use this configuration to penetrate GFW under any circumstances.</p>
</div>
</div>
<p>Server-side configuration.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">...</span> <span style="color:#960050;background-color:#1e0010">(omitted)</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;transport_plugin&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;enabled&#34;</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;shadowsocks&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;command&#34;</span>: <span style="color:#e6db74">&#34;. /v2ray-plugin&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;arg&#34;</span>: [<span style="color:#e6db74">&#34;-server&#34;</span>, <span style="color:#e6db74">&#34;-host&#34;</span>, <span style="color:#e6db74">&#34;www.baidu.com&#34;</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Client configuration.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">...</span> <span style="color:#960050;background-color:#1e0010">(omitted)</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;transport_plugin&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;enabled&#34;</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;shadowsocks&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;command&#34;</span>: <span style="color:#e6db74">&#34;. /v2ray-plugin&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;arg&#34;</span>: [<span style="color:#e6db74">&#34;-host&#34;</span>, <span style="color:#e6db74">&#34;www.baidu.com&#34;</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Note that the v2ray-plugin plugin needs to specify the <code>-server</code> parameter to distinguish between client and server. For more detailed instructions on the plugin, refer to the v2ray-plugin documentation.</p>
<p>After starting Trojan-Go, you can see the output of v2ray-plugin startup. The plugin will disguise the traffic as websocket traffic and transmit it.</p>
<p>Non-SIP003 standard plugins may require different configuration, you can specify <code>type</code> as <code>other</code> and specify the plugin address, plugin startup parameters, environment variables by yourself.</p>
<div class="edit-meta">

<br><a href="https://github.com/p4gefau1t/trojan-go/docs/edit/master/content/advance/plugin.md" class="edit-page"><i class="fas fa-pen-square"></i> Edit on GitHub</a></div><nav class="pagination"><a class="nav nav-prev" href="https://azadzadeh.github.io/trojan-go/en/advance/nginx-relay/" title="A multi-path split relaying scheme based on SNI proxy"><i class="fas fa-arrow-left" aria-hidden="true"></i> Prev - A multi-path split relaying scheme based on SNI proxy</a>
<a class="nav nav-next" href="https://azadzadeh.github.io/trojan-go/en/advance/customize-protocol-stack/" title="Custom Protocol Stack">Next - Custom Protocol Stack <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav><footer><p class="powered">Powered by <a href="https://gohugo.io">Hugo</a>. Theme by <a href="https://themes.gohugo.io/hugo-theme-techdoc/">TechDoc</a>. Designed by <a href="https://github.com/thingsym/hugo-theme-techdoc">Thingsym</a>.</p>
</footer>
</main><div class="sidebar">

<nav class="open-menu">
<ul>
<li class=""><a href="https://azadzadeh.github.io/trojan-go">Home</a></li>

<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/basic/">Basic Configuration</a>
  
<ul class="sub-menu">
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/basic/trojan/">Trojan fundamentals</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/basic/config/">Configuring Trojan-Go correctly</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/basic/full-config/">Full configuration file</a></li>
</ul>
  
</li>

<li class="parent"><a href="https://azadzadeh.github.io/trojan-go/en/advance/">Advanced Configuration</a>
  
<ul class="sub-menu">
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/advance/mux/">Enabling multiplexing to improve network concurrency performance</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/advance/websocket/">CDN forwarding and resisting man-in-the-middle attacks using Websocket</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/advance/router/">Domestic direct connection and ad blocking</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/advance/forward/">Tunnels and reverse proxies</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/advance/nginx-relay/">A multi-path split relaying scheme based on SNI proxy</a></li>
<li class="active"><a href="https://azadzadeh.github.io/trojan-go/en/advance/plugin/">Using Shadowsocks Plugin/Pluggable Transport Layer</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/advance/customize-protocol-stack/">Custom Protocol Stack</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/advance/aead/">Secondary encryption with Shadowsocks AEAD</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/advance/api/">Managing users dynamically using the API</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/advance/nat/">Transparent Proxy</a></li>
</ul>
  
</li>

<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/developer/">Implementation details and development guidelines</a>
  
<ul class="sub-menu">
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/developer/overview/">Basic introduction</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/developer/build/">Compiling and customizing Trojan-Go</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/developer/trojan/">Trojan Protocol</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/developer/mux/">Multiplexing</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/developer/websocket/">Websocket</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/developer/simplesocks/">SimpleSocks Protocol</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/developer/api/">API Development</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/developer/plugin/">Pluggable transport layer plug-in development</a></li>
<li class=""><a href="https://azadzadeh.github.io/trojan-go/en/developer/url/">URL scheme (draft)</a></li>
</ul>
  
</li>
</ul>
</nav>



<div class="sidebar-footer"></div>
</div>
</div><a href="#" id="backtothetop-fixed" class="backtothetop"
 data-backtothetop-duration="600"
 data-backtothetop-easing="easeOutQuart"
 data-backtothetop-fixed-fadeIn="1000"
 data-backtothetop-fixed-fadeOut="1000"
 data-backtothetop-fixed-bottom="10"
 data-backtothetop-fixed-right="20">
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>
</div>
</body>
</html>
